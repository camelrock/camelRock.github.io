<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wordgame</title>
</head>
<body>
    <div id="setUp">
        <h1>
            Guess The Word
        </h1>
        <p>
            Easy instructions: press "PLAY"
        </p>
        <p>
            Complex instructions:<br>
            1. Enter the ID[s] for the lists you would like to play with (separated by commas, e.g. "2", "3", "1,2,3").<br>
            2. If you would like to play for longer or shorter than 90 seconds, enter the duration (in seconds) in the "duration" box e.g. "120"
            3. Press "PLAY"
        </p>
        <input type="text" id="id" placeholder="enter ID[s]">
        <input type="text" id="seconds" placeholder="enter duration (in seconds)">
        <button id="play">PLAY</button>
        <p id="passedWords"></p>
    </div>
    <div id="game" style="display: none;">
        <p id="theWord"></p>
        <button id="yes">YES</button>
        <button id="no">NO</button>
    </div>
    <script>
        let startTime = 0;
        let words = [];
        let passedWords = [];
        let currentIndex = 0;
        let currentWord = "";
        let milliseconds = 0;
        document.getElementById('play').addEventListener('click', function(){
            const ayDee = document.getElementById('id').value.trim();
            const seconds = document.getElementById('seconds').value.trim();
            if (seconds === ""){
                seconds = '9';
            }
            if (ayDee === ""){
                ayDee = '1';
            }
            document.getElementById('setUp').style.display='none';
            document.getElementById('game').style.display='inline-block'
            startTime = new Date().getTime();
            if (ayDee === "1"){
                words = ["cat", "dog", "tree", "hysteria", "universal grammar"];
            }
            if (seconds === "90"){
                milliseconds = 5000
            }
            currentIndex = Math.floor(Math.random() * words.length);
            currentWord = words[currentIndex];
            words.splice(currentIndex, 1);
            document.getElementById('theWord').textContent = currentWord;
        })

        document.getElementById('yes').addEventListener('click', function(){
            document.getElementById('theWord').textContent = 'correct';
            words.splice(currentIndex, 1);
            if (new Date().getTime() - startTime < milliseconds){
                currentIndex = Math.floor(Math.random() * words.length);
                document.getElementById('theWord').textContent = words[currentIndex];
                return
            }
            document.getElementById('game').style.display='none';
            document.getElementById('setUp').style.display='inline-block';
            if (passedWords.length > 0){
                document.getElementById('passedWords').textContent = `Passed words include: ${passedWords}`;
            }
        })
        document.getElementById('no').addEventListener('click', function(){
            document.getElementById('theWord').textContent = 'incorrect';
            passedWords.push(words[currentIndex]);
            words.splice(currentIndex, 1);
            if (new Date().getTime() - startTime < milliseconds){
                currentIndex = Math.floor(Math.random() * words.length);
                document.getElementById('theWord').textContent = words[currentIndex];
                return
            }
            document.getElementById('game').style.display='none';
            document.getElementById('setUp').style.display='inline-block';
            if (passedWords.length > 0){
                document.getElementById('passedWords').textContent = `Passed words include: ${passedWords}`;
            }
        })
    </script>
</body>
</html>